<div class="modal-header">
    <h5 class="modal-title">Purchase Order Payments</h5>
    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">&times;</span>
    </button>
</div>
<div class="modal-body">
    <!-- Purchase Order Details -->
    <div class="mb-4">
        <h6>Purchase Order Information</h6>
        <table class="table table-sm table-bordered">
            <tr>
                <th>Purchase Order ID</th>
                <td>{{ object.id }}</td>
            </tr>
            <tr>
                <th>Total Amount</th>
                <td>BDT. {{ object.final_total_cost|floatformat:2 }}</td>
            </tr>
            <tr>
                <th>Total Paid</th>
                <td>BDT. {{ object.get_amount_paid|floatformat:2 }}</td>
            </tr>
            <tr>
                <th>Remaining Due</th>
                <td>BDT. {{ object.get_amount_due|floatformat:2 }}</td>
            </tr>
            <tr>
                <th>Status</th>
                <td>{{ object.get_status_display }}</td>
            </tr>
            <tr>
                <th>Order Date</th>
                <td>{{ object.order_date|date:"Y-m-d H:i" }}</td>
            </tr>
        </table>
    </div>

    <!-- Payment Details -->
    <div>
        <h6>Payments</h6>
        <table class="table table-sm table-striped table-bordered">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Account</th>
                    <th>Amount</th>
                    <th>Date</th>
                    <th>Status</th>
                    <th>Transaction ID</th>
                    <th>Note</th>
                </tr>
            </thead>
            <tbody>
                {% for payment in payments %}
                <tr>
                    <td>{{ forloop.counter }}</td>
                    <td>{{ payment.payment_account.name }}</td>
                    <td>BDT. {{ payment.amount|floatformat:2 }}</td>
                    <td>{{ payment.created_at|date:"Y-m-d H:i" }}</td>
                    <td>{{ payment.get_status_display }}</td>
                    <td>{{ payment.transaction_id }}</td>
                    <td>{{ payment.note }}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="7" class="text-center">No payments available</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
